# #---Basic Definitions--# #
set $mod Mod4

floating_modifier $mod

# Gaps
gaps inner 0
gaps outer 0
# gaps inner 20
# gaps outer 10

# 2 pixel borders, do not show title bar
new_window pixel 2

set $term --no-startup-id $TERMINAL



# #---Starting External Scripts---# #

# Set the desktop background
exec_always --no-startup-id feh --bg-fill $HOME/Pictures/wallpapers/wallpaper.jpg
# Composite manager
exec_always --no-startup-id compton -f
# Dunst for notifications
exec --no-startup-id dunst
# Network manager applet
exec --no-startup-id nm-applet
# Set up multiple monitors
exec_always --no-startup-id xrandr --output HDMI-1-2 --mode 1920x1080 --pos 1920x0 --output DVI-0 --rate 144.00 --mode 1920x1080 --pos 0x0
# Torrent daemon
exec --no-startup-id transmission-daemon

# Run Spotify automatically
exec spotify



# #---Appearance---# #

# Read colors from Xresources
set_from_resource $darkred     color1  #000000
set_from_resource $red         color9  #000000
set_from_resource $darkgreen   color2  #000000
set_from_resource $green       color10 #000000
set_from_resource $darkyellow  color3  #000000
set_from_resource $yellow      color11 #000000
set_from_resource $darkblue    color4  #000000
set_from_resource $blue        color12 #000000
set_from_resource $darkmagenta color5  #000000
set_from_resource $magenta     color13 #000000
set_from_resource $darkcyan    color6  #000000
set_from_resource $cyan        color14 #000000
set_from_resource $darkwhite   color7  #000000
set_from_resource $white       color15 #000000

set_from_resource $darkergrey  color18 #000000
set_from_resource $darkgrey    color19 #000000
set_from_resource $lightergrey color18 #000000

set_from_resource $background  background #000000
set_from_resource $foreground  foreground #000000

set_from_resource $lightpink walcolor8

# Window colors
# class                 border  backgr. text    indicator    child_border
client.focused          #ffffff #ffffff #ffffff $lightpink   $lightpink
client.focused_inactive #ffffff #ffffff #ffffff $background  $background
client.unfocused        #ffffff #ffffff #ffffff $background  $background
client.urgent           #ffffff #ffffff #ffffff #ffffff      $red
client.placeholder      #ffffff #ffffff #ffffff #ffffff      #ffffff

client.background       #ffffff

# Status bar
bar {
    i3bar_command $HOME/.config/polybar/launch.sh
}



# #---Workspaces---# #

# Workspaces
set $workspace1 "1: "
set $workspace2 "2: "
set $workspace3 "3: "
set $workspace4 "4: "
set $workspace5 "5: "
set $workspace6 "6: "
set $workspace7 "7: "
set $workspace8 "8: "
set $workspace9 "9: "
set $workspace10 "10: "

# Switch to workspace
bindsym $mod+1 workspace $workspace1
bindsym $mod+2 workspace $workspace2
bindsym $mod+3 workspace $workspace3
bindsym $mod+4 workspace $workspace4
bindsym $mod+5 workspace $workspace5
bindsym $mod+6 workspace $workspace6
bindsym $mod+7 workspace $workspace7
bindsym $mod+8 workspace $workspace8
bindsym $mod+9 workspace $workspace9
bindsym $mod+0 workspace $workspace10

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $workspace1
bindsym $mod+Shift+2 move container to workspace $workspace2
bindsym $mod+Shift+3 move container to workspace $workspace3
bindsym $mod+Shift+4 move container to workspace $workspace4
bindsym $mod+Shift+5 move container to workspace $workspace5
bindsym $mod+Shift+6 move container to workspace $workspace6
bindsym $mod+Shift+7 move container to workspace $workspace7
bindsym $mod+Shift+8 move container to workspace $workspace8
bindsym $mod+Shift+9 move container to workspace $workspace9
bindsym $mod+Shift+0 move container to workspace $workspace10

# Windows in workspaces
assign [class="Spotify"] $workspace2
assign [class="GitKraken"] $workspace6
assign [class="jetbrains-pycharm"] $workspace7
assign [class="Slack"] $workspace9
assign [class="Skype"] $workspace9
assign [class="discord"] $workspace9
assign [class="Google-chrome"] $workspace10
assign [class="Firefox"] $workspace10

# Spotify does not want to move automatically!
for_window [class="Spotify"] move to workspace $workspace2

# Open some workspaces on the second monitor automatically
workspace $workspace2 output HDMI-1-2
workspace $workspace9 output HDMI-1-2

# Workspace specific gaps
workspace $workspace7 gaps inner 0
workspace $workspace7 gaps outer 0



# #---Scratchpads---# #

# Dropdown
for_window [instance="dropdown"] floating enable
for_window [instance="dropdown"] resize set 625 400
for_window [instance="dropdown"] move scratchpad
for_window [instance="dropdown"] border pixel 5
exec_always --no-startup-id $term --title=dropdown --name=dropdown --class=dropdown
# Python
for_window [instance="python"] floating enable
for_window [instance="python"] resize set 625 300
for_window [instance="python"] move scratchpad
for_window [instance="python"] border pixel 5
exec_always --no-startup-id $term --title=python --name=python --class=python -e "python -q"



# #---Basic Bindings---# #

# start a terminal
bindsym $mod+Return exec $term

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle
# toggle tiling / floating
bindsym $mod+Shift+space floating toggle



# #---Letter Key Bindings---# #

bindsym $mod+q          kill
bindsym $mod+Shift+q    exec --no-startup-id rofi-power

bindsym $mod+d          exec rofi -show drun

# Change gap sizes
bindsym $mod+s          gaps inner current plus 5
bindsym $mod+Shift+s    gaps inner current minus 5

bindsym $mod+z          gaps outer current plus 5
bindsym $mod+Shift+z    gaps outer current minus 5

bindsym $mod+h          focus left
bindsym $mod+Shift+h    move left

bindsym $mod+j          focus down
bindsym $mod+Shift+j    move down

bindsym $mod+k          focus up
bindsym $mod+Shift+k    move up

bindsym $mod+l          focus right
bindsym $mod+Shift+l    move right

bindsym $mod+v          split v
bindsym $mod+Shift+v    split h

bindsym $mod+f          fullscreen toggle

bindsym $mod+e          layout toggle split
bindsym $mod+Shift+e    exec --no-startup-id rofi-power

bindsym $mod+Shift+c    reload

bindsym $mod+r          exec $term -e ranger
bindsym $mod+Shift+r    restart

bindsym $mod+Shift+y    exec --no-startup-id i3resize left

bindsym $mod+u          [instance="dropdown"] scratchpad show; [instance="dropdown"] move position center
bindsym $mod+Shift+u    exec --no-startup-id i3resize down

bindsym $mod+Shift+i    exec --no-startup-id i3resize up

bindsym $mod+Shift+o    exec --no-startup-id i3resize right

bindsym $mod+a          [instance="python"] scratchpad show; [instance="python"] move position center

# Move workspace to other monitor
bindsym $mod+x          exec --no-startup-id betterlockscreen -l dim
bindsym $mod+Shift+x    exec --no-startup-id rofi-power

bindsym $mod+m          move workspace to output right
bindsym $mod+Shiftm     exec --no-startup-id i3-swap

# #---Media keys---# #

# Screenshotting with maim, copy region to clipboard
bindsym --release Print exec --no-startup-id maim -s | xclip -selection clipboard -t image/png
bindsym --release Shift+Print exec --no-startup-id maim -s ~/Pictures/screenshots/$(date +"%Y-%m-%dT%H:%M:%SZ").png

# Pulse audio controls
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 0 +5%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 0 -5%
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute 0 toggle

# Media player controls
bindsym XF86AudioPlay exec --no-startup-id playerctl play-pause
bindsym XF86AudioNext exec --no-startup-id playerctl next
bindsym XF86AudioPrev exec --no-startup-id playerctl previous



# #---Arrow Keys---# #

bindsym $mod+Left focus left
bindsym $mod+Shift+Left move left

bindsym $mod+Down focus down
bindsym $mod+Shift+Down move down

bindsym $mod+Up focus up
bindsym $mod+Shift+Up move up

bindsym $mod+Right focus right
bindsym $mod+Shift+Right move right



# #---Random---# #

